import{z,A as de,C as ve,E as f,h as T,ad as N,H as M,bu as me,Z as fe,bv as ge,bw as Q,bx as he,$ as ke,a4 as v,by as E,aM as ye,a0 as be,bz as pe,bA as Se,bB as Te,a5 as we,bC as Ce,a7 as b,ab as O,bD as L,X as A,bE as _e,Y as D,S as H,bF as xe,bh as Pe,K as qe,bG as Be,o as w,d as V,j,y as Qe,I as Ee,c as Oe,t as $,i as Le,k as Ae,a as De,e as He,F as $e,ar as I,s as R,u as F,bH as W}from"./index.5dab455f.js";import{u as Ie,S as ze,L as Ne,I as Me,c as Ve}from"./index.7afb556f.js";import{h as je,r as Re,b as Fe,d as We,e as Ke,f as Ge}from"./post.328ce0bc.js";const Ue=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],Xe=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var ot=z({name:"QSkeleton",props:{...de,tag:{type:String,default:"div"},type:{type:String,validator:e=>Ue.includes(e),default:"rect"},animation:{type:String,validator:e=>Xe.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:r}){const l=M(),s=ve(e,l.proxy.$q),o=f(()=>{const n=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:n[0],height:n[1]}}),t=f(()=>`q-skeleton q-skeleton--${s.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>T(e.tag,{class:t.value,style:o.value},N(r.default))}}),Ye=z({name:"QTooltip",inheritAttrs:!1,props:{...me,...fe,...ge,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Q},self:{type:String,default:"top middle",validator:Q},offset:{type:Array,default:()=>[14,14],validator:he},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ke],setup(e,{slots:r,emit:l,attrs:s}){let o,t;const n=M(),{proxy:{$q:a}}=n,u=v(null),d=v(!1),g=f(()=>E(e.anchor,a.lang.rtl)),K=f(()=>E(e.self,a.lang.rtl)),G=f(()=>e.persistent!==!0),{registerTick:U,removeTick:X}=ye(),{registerTimeout:y}=be(),{transitionProps:Y,transitionStyle:Z}=pe(e),{localScrollTarget:C,changeScrollEvent:J,unconfigureScrollTarget:ee}=Se(e,q),{anchorEl:c,canShow:te,anchorEvents:h}=Te({showing:d,configureAnchorEl:re}),{show:ae,hide:p}=we({showing:d,canShow:te,handleShow:ne,handleHide:se,hideOnRouteChange:G,processOnMount:!0});Object.assign(h,{delayShow:ie,delayHide:le});const{showPortal:_,hidePortal:x,renderPortal:oe}=Ce(n,u,ce,"tooltip");if(a.platform.is.mobile===!0){const i={anchorEl:c,innerRef:u,onClickOutside(m){return p(m),m.target.classList.contains("q-dialog__backdrop")&&qe(m),!0}},S=f(()=>e.modelValue===null&&e.persistent!==!0&&d.value===!0);b(S,m=>{(m===!0?Be:L)(i)}),O(()=>{L(i)})}function ne(i){_(),U(()=>{t=new MutationObserver(()=>k()),t.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),k(),q()}),o===void 0&&(o=b(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,k)),y(()=>{_(!0),l("show",i)},e.transitionDuration)}function se(i){X(),x(),P(),y(()=>{x(!0),l("hide",i)},e.transitionDuration)}function P(){t!==void 0&&(t.disconnect(),t=void 0),o!==void 0&&(o(),o=void 0),ee(),A(h,"tooltipTemp")}function k(){_e({targetEl:u.value,offset:e.offset,anchorEl:c.value,anchorOrigin:g.value,selfOrigin:K.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ie(i){if(a.platform.is.mobile===!0){D(),document.body.classList.add("non-selectable");const S=c.value,m=["touchmove","touchcancel","touchend","click"].map(B=>[S,B,"delayHide","passiveCapture"]);H(h,"tooltipTemp",m)}y(()=>{ae(i)},e.delay)}function le(i){a.platform.is.mobile===!0&&(A(h,"tooltipTemp"),D(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{p(i)},e.hideDelay)}function re(){if(e.noParentEvent===!0||c.value===null)return;const i=a.platform.is.mobile===!0?[[c.value,"touchstart","delayShow","passive"]]:[[c.value,"mouseenter","delayShow","passive"],[c.value,"mouseleave","delayHide","passive"]];H(h,"anchor",i)}function q(){if(c.value!==null||e.scrollTarget!==void 0){C.value=xe(c.value,e.scrollTarget);const i=e.noParentEvent===!0?k:p;J(C.value,i)}}function ue(){return d.value===!0?T("div",{...s,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",s.class],style:[s.style,Z.value],role:"tooltip"},N(r.default)):null}function ce(){return T(Pe,Y.value,ue)}return O(P),Object.assign(n.proxy,{updatePosition:k}),oe}});const Ze={class:"text-grey q-ml-xs text-body2"},nt={__name:"PostIcon",props:{name:{type:String,required:!0},label:{type:[String,Number]},tooltip:{type:String}},setup(e){return(r,l)=>(w(),V($e,null,[j(Ee,Qe({name:e.name,color:"grey",size:"xs"},r.$attrs),null,16,["name"]),Oe("span",Ze,$(e.label),1),e.tooltip?(w(),Le(Ye,{key:0,offset:[0,4]},{default:Ae(()=>[De($(e.tooltip),1)]),_:1})):He("",!0)],64))}};const Je={class:"tiptap"},st={__name:"TiptapViewer",props:{content:{type:String,default:""}},setup(e){const l=Ie({content:e.content,extensions:[ze,Ne,Me],editable:!1});return(s,o)=>(w(),V("div",Je,[j(I(Ve),{class:"editor__content",editor:I(l)},null,8,["editor"])]))}},it=(e,r)=>{const{likey:l}=r||{},{uid:s,isAuthentication:o}=R(F()),t=v(!1),n=v(l),a=v(e),u=async()=>{if(o.value===!1){t.value=!1;return}t.value=await je(s.value,a.value)},d=async()=>{if(o.value===!1){alert("\uB85C\uADF8\uC778 \uD6C4 \uC774\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4.");return}t.value?(await Re(s.value,a.value),n.value--):(await Fe(s.value,a.value),n.value++),t.value=!t.value};return b(o,()=>u(),{immediate:!0}),{isLike:t,likeCount:W(n),updateLikeCount:g=>n.value=g,toggleLike:d}},lt=(e,r)=>{const{bookmarking:l}=r||{},{uid:s,isAuthentication:o}=R(F()),t=v(!1),n=v(l),a=v(e),u=async()=>{if(o.value===!1){t.value=!1;return}t.value=await We(s.value,a.value)},d=async()=>{if(o.value===!1){alert("\uB85C\uADF8\uC778 \uD6C4 \uC774\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4.");return}t.value?(await Ke(s.value,a.value),n.value--):(await Ge(s.value,a.value),n.value++),t.value=!t.value};return b(o,()=>u(),{immediate:!0}),{isBookmark:t,bookmarkCount:W(n),updatebookmarkCount:g=>n.value=g,toggleBookmark:d}};export{ot as Q,st as _,lt as a,nt as b,it as u};
