import{a as v}from"./QItemLabel.7d6fabb5.js";import{aC as y,aD as b,bt as _,a4 as Q,an as i,o as $,i as S,k as s,j as o,ai as k,a as x,aq as U,aj as l,ar as u}from"./index.5dab455f.js";import{Q as P}from"./QPage.3f0f7285.js";import{l as T,u as w}from"./post.328ce0bc.js";import{_ as B}from"./BaseCard.4de4e8c2.js";import{_ as C}from"./PostForm.3faf4f12.js";import{b as m}from"./route-block.1e6a8648.js";import"./user.faff4df2.js";import"./QInput.8657458d.js";import"./uid.42677368.js";import"./QChip.7b90b6fa.js";import"./rtl.b51694b1.js";import"./QCardActions.882ea4ec.js";import"./QForm.a192e15e.js";import"./category.058bffc4.js";import"./index.7afb556f.js";import"./validate-rules.6596e294.js";import"./useTags.270b218a.js";const j=()=>({title:"",category:"",content:"",tags:[]}),q={__name:"edit",setup(N){const n=y(),p=b(),c=_(),t=Q(j());i(()=>T(n.params.id),{},{onSuccess:r=>{t.value.title=r.title,t.value.category=r.category,t.value.content=r.content,t.value.tags=r.tags}});const{isLoading:d,execute:f}=i(w,null,{immediate:!1,throwError:!0,onSuccess:()=>{c.notify("\uC218\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}}),g=async()=>{confirm("\uC218\uC815\uD558\uC2DC\uACA0\uC5B4\uC694?")!==!1&&(await f(1e3,n.params.id,t.value),p.push(`/posts/${n.params.id}`))};return(r,a)=>($(),S(P,{padding:""},{default:s(()=>[o(B,null,{default:s(()=>[o(k,null,{default:s(()=>[o(v,null,{default:s(()=>[x("\uC218\uC815\uD558\uAE30")]),_:1})]),_:1}),o(U),o(C,{title:t.value.title,"onUpdate:title":a[1]||(a[1]=e=>t.value.title=e),category:t.value.category,"onUpdate:category":a[2]||(a[2]=e=>t.value.category=e),content:t.value.content,"onUpdate:content":a[3]||(a[3]=e=>t.value.content=e),tags:t.value.tags,"onUpdate:tags":a[4]||(a[4]=e=>t.value.tags=e),onSubmit:g},{actions:s(()=>[o(l,{unelevated:"",type:"submit",label:"\uC800\uC7A5",color:"indigo",loading:u(d)},null,8,["loading"]),o(l,{outline:"",label:"\uCDE8\uC18C",color:"negative",onClick:a[0]||(a[0]=e=>r.$router.push(`/posts/${u(n).params.id}`))})]),_:1},8,["title","category","content","tags"])]),_:1})]),_:1}))}};typeof m=="function"&&m(q);export{q as default};
